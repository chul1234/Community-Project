<div ng-controller="BoardDetailController" class="container">

    <div ng-if="!isEditing">
        <h1>{{ post.title }}</h1>
        <div style="color: #6c757d; margin-bottom: 20px; border-bottom: 1px solid #dee2e6; padding-bottom: 15px;">
            <span>작성자: {{ post.author_name }} ({{ post.user_id }})</span>
            <span style="float: right;">작성일: {{ post.created_at | date:'yyyy-MM-dd HH:mm' }}</span>
        </div>
        <div class="post-content" ng-bind-html="trustedContent" style="min-height: 200px; margin-bottom: 40px; white-space: pre-wrap;"></div>
        <div class="action-bar">
            <div ng-if="canModify">
                <button type="button" ng-click="switchToEditMode()">수정</button>
                <button type="button" ng-click="deletePost()" class="delete-btn">삭제</button>
            </div>
            <a href="#!/board" class="action-btn">목록으로</a>
        </div>
    </div>

    <div ng-if="isEditing">
        <h1>게시글 수정</h1>
        <form name="editForm" novalidate>
            <div class="form-group">
                <label>제목</label>
                <input type="text" ng-model="editData.title" required class="form-control" />
            </div>
            <div class="form-group">
                <label>내용</label>
                <textarea ng-model="editData.content" required rows="10" class="form-control" style="width: 100%;"></textarea>
            </div>
        </form>
		<div class="action-bar">
		    <div class="button-group">
		        <button type="button" ng-click="saveChanges()" ng-disabled="editForm.$invalid" class="submit-btn-full">수정 완료</button>
		        <button type="button" ng-click="cancelEdit()" class="secondary-btn">취소</button>
		    </div>
		</div>
    </div>

    <hr>
    <h2>댓글</h2>
    <p>댓글 기능은 곧 추가될 예정입니다.</p>
</div>